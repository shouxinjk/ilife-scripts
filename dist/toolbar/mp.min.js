function sxInitialize(i){listenPostMessage();var t="https://biglistoflittlethings.com/ilife-web-wx/images/icon.jpeg";i.append('<div id="sxHideBtnDiv" class="info" style="position:fixed;z-index:999;top:140px;right:30px;background-color:#fff;width:50px;height:20px;border-radius:5px;display:none"><div style="line-height:22px;color:grey;">隐藏</div></div><div id="sxShowBtnDiv" class="info" style="position:fixed;z-index:999;top:130px;right:0;background-color:#fff;width:44px;height:150px;border-radius:5px;padding-left:12px;display:block"><div class="info-general"><img class="general-icon" src="https://biglistoflittlethings.com/ilife-web-wx/images/icon.jpeg" width="30" height="30"/></div><div class="info-detail"><div class="info-text info-blank" style="color:#000;font-size:14px;height:100px">开<br/>始<br/>选<br/>品</div></div>');var e="";e+="<div id='sxDiv' style='position:fixed;z-index:99;top:130px;right:30px;background-color:#fff;min-width:400px;width:20%;height:90%;border-radius:5px;display:none'>",e+='<div id="brokerInfoDiv" class="info">',e+='<div class="info-general">',e+='<img id="broker-logo" class="general-icon" src="'+t+'" height="60px"/>',e+="</div>",e+='<div class="info-detail">',e+='<div id="broker-name" class="info-text info-blank" style="color:#000;font-weight:bold;font-size:14px;">请扫码绑定达人</div>',e+='<div class="info-text info-blank" id="brokerHint"  style="color:#000">请筛选需要的商品<br/>选定后点击拷贝，并粘贴到正文即可</div>',e+="</div>",e+="</div>",e+='<div id="sxListDiv" class="list">',e+='<iframe id="sxListFrame" src="https://www.biglistoflittlethings.com/ilife-web-wx/login.html?nonce="'+(new Date).getTime()+' width="100%" height="400px" frameborder="0" sandbox="allow-scripts allow-same-origin">',e+="</div>",e+="</div>",i.append(e),console.log("post message to get sxToolbarStatus "),document.getElementById("sxListFrame").contentWindow.postMessage({sxCookie:{action:"get",key:"sxToolbarStatus"}},"*");e=$("#sxDiv").height()-$("#brokerInfoDiv").height();$("#sxListFrame").height(e),$("#sxHideBtnDiv").click(function(i){$("#sxHideBtnDiv").css("display","none"),$("#sxShowBtnDiv").css("display","block"),$("#sxDiv").css("display","none");var t={sxCookie:{action:"set",key:"sxToolbarStatus",value:{show:!1}}};console.log("try to post sxToolbar status message to iframe.",t),document.getElementById("sxListFrame").contentWindow.postMessage(t,"*")}),$("#sxShowBtnDiv").click(function(i){$("#sxShowBtnDiv").css("display","none"),$("#sxHideBtnDiv").css("display","block"),$("#sxDiv").css("display","block");var t={sxCookie:{action:"set",key:"sxToolbarStatus",value:{show:!0}}};console.log("try to post sxToolbar status message to iframe.",t),document.getElementById("sxListFrame").contentWindow.postMessage(t,"*")})}function listenPostMessage(){var i=window.addEventListener?"addEventListener":"attachEvent";(0,window[i])("attachEvent"==i?"onmessage":"message",function(i){var t,i=i[i.message?"message":"data"];console.log("got message from child window.",i),i&&i.sxBrokerName&&(t="Hi,"+i.sxBrokerName+(i.sxBrokerRealName&&0<i.sxBrokerRealName.trim().length?"("+i.sxBrokerRealName+")":""),t+="&nbsp;<a href='#' style='font-size:12px;color:silver' id='sxChangeBroker' alt='切换账户'><img width='12' text='切换账户' style='vertical-align:middle; margin: 0 auto; ' src='https://www.biglistoflittlethings.com/ilife-web-wx/images/change.png'/></a>",$("#broker-name").html(t),$("#sxChangeBroker").click(function(i){console.log("try to remove broker info."),document.getElementById("sxListFrame").contentWindow.postMessage({sxCookie:{action:"set",key:"sxAuth",value:{}}},"*"),$("#sxListFrame").attr("src","https://www.biglistoflittlethings.com/ilife-web-wx/login.html?nonce="+(new Date).getTime())})),i&&i.sxBrokerLogo&&$("#broker-logo").attr("src",i.sxBrokerLogo),i&&i.sxNavigateTo&&$("#sxListFrame").attr("src",i.sxNavigateTo),i&&i.sxCookie&&(t=i.sxCookie,console.log("got message.",t),"return"==t.action&&"sxToolbarStatus"==t.key&&(t.value.show?($("#sxHideBtnDiv").css("display","block"),$("#sxDiv").css("display","block"),$("#sxShowBtnDiv").css("display","none")):($("#sxHideBtnDiv").css("display","none"),$("#sxDiv").css("display","none"),$("#sxShowBtnDiv").css("display","block")))),i&&i.sxRedirect&&(console.log("try to redirect",i.sxRedirect),i.sxTargetWindow?window.open(i.sxRedirect,i.sxTargetWindow):window.open(i.sxRedirect))},!1)}var pendingJsFiles=0;function loadSxHelperSource(){const i=["https://www.biglistoflittlethings.com/ilife-web-wx/ext/jquery-1.12.4.min.js","https://www.biglistoflittlethings.com/ilife-web-wx/js/newWaterfall.js","https://www.biglistoflittlethings.com/ilife-web-wx/js/swiper.min.js","https://www.biglistoflittlethings.com/ilife-web-wx/js/jquery.cookie.js","https://www.biglistoflittlethings.com/ilife-web-wx/ext/toast/jquery.toast.min.js","https://www.biglistoflittlethings.com/ilife-web-wx/js/util.js?v=2.4","https://www.biglistoflittlethings.com/ilife-web-wx/js/index_mp.js?v=3.3"];pendingJsFiles=i.length;["https://www.biglistoflittlethings.com/ilife-web-wx/css/reset2.0.min.css","https://www.biglistoflittlethings.com/ilife-web-wx/css/swiper.min.css","https://www.biglistoflittlethings.com/ilife-web-wx/ext/toast/jquery.toast.min.css","https://www.biglistoflittlethings.com/ilife-web-wx/css/common.css?v=4.7","https://www.biglistoflittlethings.com/ilife-web-wx/css/waterfall.css","https://www.biglistoflittlethings.com/ilife-web-wx/css/index.css?v=2.2"].forEach(dynamicLoadCss),i.forEach(function(i){dynamicLoadJs(i,function(){0==--pendingJsFiles&&loadPageHtml()})})}function loadPageHtml(){$.get("https://www.biglistoflittlethings.com/ilife-web-wx/index_mp.html?from=zhihu&fromUser=o8HmJ1ItjXilTlFtJNO25-CAQbbg",function(i){$("#sxListDiv").html(i)})}function dynamicLoadJs(i,t){var e=document.getElementsByTagName("head")[0],s=document.createElement("script");s.type="text/javascript",s.src=i,"function"==typeof t&&(s.onload=s.onreadystatechange=function(){this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||(t(),s.onload=s.onreadystatechange=null)}),e.appendChild(s)}function dynamicLoadCss(i){var t=document.getElementsByTagName("head")[0],e=document.createElement("link");e.type="text/css",e.rel="stylesheet",e.href=i,t.appendChild(e)}